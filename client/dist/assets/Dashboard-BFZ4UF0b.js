import{r as a,j as s,m as x,L as c}from"./vendor-D2owFAG-.js";import{u as j}from"./index-DliKwqLO.js";import"./vendor-visuals-gZFlGGSH.js";const p=()=>{const{api:d,user:i}=j(),[l,n]=a.useState([]),[r,o]=a.useState({count:0,total_value:0}),[h,m]=a.useState(!0);return a.useEffect(()=>{(async()=>{try{const t=await d.get("/data/dashboard");n(t.data.estimations),o({count:t.data.count,total_value:t.data.total_value})}catch(t){console.error(t)}m(!1)})()},[d]),h?s.jsx("div",{className:"text-center mt-5",children:s.jsx("div",{className:"spinner-border"})}):s.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},className:"container",children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"fw-bold",children:["Welcome, ",i.username,"!"]}),s.jsx("p",{className:"text-muted",children:"Here is your project overview"})]}),s.jsx(c,{to:"/estimate",className:"btn btn-primary btn-lg shadow",children:"+ New Estimate"})]}),s.jsxs("div",{className:"row mb-4",children:[s.jsx("div",{className:"col-md-6",children:s.jsx("div",{className:"card glass-card border-0 shadow-lg p-3 rounded-4 h-100",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h5",{className:"text-secondary",children:"Total Projects"}),s.jsx("h2",{className:"fw-bold display-4 text-white",children:r.count})]})})}),s.jsx("div",{className:"col-md-6",children:s.jsx("div",{className:"card glass-card border-0 shadow-lg p-3 rounded-4 h-100",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h5",{className:"text-secondary",children:"Total Estimated Value"}),s.jsxs("h2",{className:"fw-bold display-4 text-primary",children:["Rs. ",r.total_value.toLocaleString()]})]})})})]}),s.jsx("h4",{className:"fw-bold mb-3 text-white",children:"Recent Estimations"}),l.length===0?s.jsx("div",{className:"alert alert-info glass-card",children:"No estimations found. Start a new one!"}):s.jsx("div",{className:"table-responsive glass-card rounded-4 p-2 shadow-lg",children:s.jsxs("table",{className:"table table-dark table-hover mb-0",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Date"}),s.jsx("th",{children:"City"}),s.jsx("th",{children:"Total Cost (INR)"}),s.jsx("th",{children:"2026 Prediction"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:l.map(e=>s.jsxs("tr",{children:[s.jsx("td",{children:e.date}),s.jsx("td",{children:e.city}),s.jsxs("td",{className:"fw-bold",children:["Rs. ",e.total_cost.toLocaleString()]}),s.jsxs("td",{className:"text-muted",children:["Rs. ",e.predicted_2026.toLocaleString()]}),s.jsx("td",{children:s.jsx(c,{to:`/result/${e.id}`,className:"btn btn-sm btn-outline-primary",children:"View"})})]},e.id))})]})})]})};export{p as default};
