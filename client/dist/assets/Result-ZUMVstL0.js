import{e as m,r,j as e,m as x,L as j}from"./vendor-D2owFAG-.js";import{u as b}from"./index-DliKwqLO.js";import"./vendor-visuals-gZFlGGSH.js";const v=()=>{const{id:d}=m(),{api:l}=b(),[a,i]=r.useState(null),[c,n]=r.useState(null),[o,h]=r.useState(!0);return r.useEffect(()=>{(async()=>{try{const s=await l.get(`/data/result/${d}`);i(s.data)}catch(s){console.error(s),n(s.response?.data?.msg||"Failed to load estimation")}h(!1)})()},[d,l]),o?e.jsx("div",{className:"text-center mt-5",children:e.jsx("div",{className:"spinner-border"})}):c?e.jsx("div",{className:"alert alert-danger text-center mt-5",children:c}):a?e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},className:"container pb-5",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsxs("h2",{className:"fw-bold",children:["Estimation Result ",e.jsxs("span",{className:"text-muted fs-5",children:["| ",a.date]})]}),e.jsx(j,{to:"/dashboard",className:"btn btn-outline-secondary",children:"Back to Dashboard"})]}),e.jsxs("div",{className:"row g-4",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card glass-card border-0 shadow-lg p-4 rounded-4 h-100",children:[e.jsx("h4",{className:"text-secondary",children:"Estimated Total Cost"}),e.jsxs("h1",{className:"fw-bold display-4 text-primary",children:["Rs. ",a.total_cost.toLocaleString()]}),e.jsx("p",{className:"mb-0 opacity-75",children:"Current Market Rates"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card glass-card border-0 shadow-lg p-4 rounded-4 h-100",children:[e.jsx("h4",{className:"text-secondary",children:"2026 Forecast Price"}),e.jsxs("h1",{className:"fw-bold display-4 text-info",children:["Rs. ",Math.round(a.predicted_2026).toLocaleString()]}),e.jsx("p",{className:"mb-0 opacity-75",children:"Projected Inflation Impact"})]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"card glass-card border-0 shadow-lg rounded-4",children:[e.jsx("div",{className:"card-header bg-transparent border-bottom border-secondary py-3",children:e.jsx("h5",{className:"fw-bold mb-0 text-white",children:"Material Quantities"})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-dark table-hover mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Material"}),e.jsx("th",{children:"Quantity"})]})}),e.jsx("tbody",{children:Object.entries(a.quantities).map(([t,s])=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-capitalize",children:t.replace("_"," ")}),e.jsx("td",{className:"fw-bold",children:s.toLocaleString()})]},t))})]})})})]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"card glass-card border-0 shadow-lg rounded-4",children:[e.jsx("div",{className:"card-header bg-transparent border-bottom border-secondary py-3",children:e.jsx("h5",{className:"fw-bold mb-0 text-white",children:"Cost Breakdown"})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-dark table-hover mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Item"}),e.jsx("th",{className:"text-end",children:"Cost (INR)"})]})}),e.jsx("tbody",{children:Object.entries(a.breakdown).map(([t,s])=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-capitalize",children:t}),e.jsxs("td",{className:"text-end fw-bold",children:["Rs. ",s.toLocaleString()]})]},t))})]})})})]})})]}),e.jsxs("div",{className:"alert alert-success glass-card border-success mt-4 d-flex align-items-center text-white",children:[e.jsx("i",{className:"bi bi-check-circle-fill me-2 fs-4 text-success"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Report Sent!"})," A detailed PDF report has been emailed to you."]})]})]}):e.jsx("div",{className:"alert alert-danger text-center mt-5",children:"Estimation data unavailable"})};export{v as default};
